import json
import os

# 1. Load Korean and English from ui_translations_complete.py (simulated by defining them here to be safe and self-contained)
# Actually, I will read them from the file if possible, but defining them is safer to ensure I have them.
# I will copy the dictionaries from Step 223 output.

korean_text = {
    "page_title": "AI íŒ¨ì…˜ ìŠ¤íƒ€ì¼ë¦¬ìŠ¤íŠ¸",
    "page_description": "ë‹¹ì‹ ì˜ ì‚¬ì§„ì„ ì˜¬ë ¤ì£¼ì„¸ìš”. **ëƒ‰ì² í•œ í‰ê°€**ì™€ **ì™„ë²½í•œ ì½”ë””**ë¥¼ ì œì•ˆí•´ ë“œë¦½ë‹ˆë‹¤.",
    "settings": "âš™ï¸ ì„¤ì •",
    "user_status": "ë‚´ ë“±ê¸‰",
    "free_member": "ğŸŒ± ë¬´ë£Œ íšŒì›",
    "premium_member": "ğŸ‘‘ í”„ë¦¬ë¯¸ì—„ íšŒì›",
    "remaining_uses": "ì˜¤ëŠ˜ ë‚¨ì€ ë¬´ë£Œ íšŸìˆ˜",
    "watch_ads": "ğŸ“º ê´‘ê³  2ê°œ ë³´ê³  ë¬´ì œí•œ ì“°ê¸°",
    "watching_ad": "ê´‘ê³  ì‹œì²­ ì¤‘...",
    "upgrade_success": "í”„ë¦¬ë¯¸ì—„ ë“±ê¸‰ìœ¼ë¡œ ì—…ê·¸ë ˆì´ë“œ ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ‰",
    "language_select": "ğŸŒ ì–¸ì–´ ì„ íƒ",
    "result_language": "ê²°ê³¼ ì–¸ì–´ / Result Language",
    "model_select": "ğŸ¤– ëª¨ë¸ ì„ íƒ",
    "analysis_ai": "ë¶„ì„ AI",
    "image_gen_ai": "ì´ë¯¸ì§€ ìƒì„± AI",
    "flash_cheap": "Flash 2.5 (ë¹ ë¦„/ë¬´ë£Œ)",
    "pro_expensive": "Pro 2.5 (ë˜‘ë˜‘í•¨/ìœ ë£Œ)",
    "flash_image": "Gemini 2.5 Flash Image (ê°€ì„±ë¹„)",
    "nano_banana": "Nano Banana Pro (ìµœê³ í™”ì§ˆ)",
    "premium_only": "ğŸ”’ {model} ëª¨ë¸ì€ í”„ë¦¬ë¯¸ì—„ íšŒì›ë§Œ ì“¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤. (Flashë¡œ ìë™ ë³€ê²½ë¨)",
    "why_ads": "â“ ì™œ ê´‘ê³ ë¥¼ë´ì•¼ í•˜ë‚˜ìš”?",
    "ads_explanation": "**ğŸ’¡ ì†”ì§í•œ ì•ˆë‚´**\n\nê³ ì„±ëŠ¥ AIê°€ ê·¸ë¦¼ì„ ê·¸ë¦¬ëŠ” ë°ëŠ” ë§ì€ ë¹„ìš©(ì¥ë‹¹ ì•½ 40ì›~300ì›)ì´ ë“­ë‹ˆë‹¤. ğŸ˜­\n\në¬´ë£Œë¡œ ì„œë¹„ìŠ¤ë¥¼ ê³„ì† ì œê³µí•´ ë“œë¦¬ê¸° ìœ„í•´, ë¶€ë“ì´í•˜ê²Œ ê´‘ê³  ìˆ˜ìµìœ¼ë¡œ ì„œë²„ë¹„ë¥¼ ì¶©ë‹¹í•˜ê³  ìˆìŠµë‹ˆë‹¤.\n\në„ˆê·¸ëŸ¬ìš´ ë§ˆìŒìœ¼ë¡œ ê´‘ê³  2í¸ë§Œ ë´ì£¼ì‹œë©´, ë©‹ì§„ ì½”ë””ë¥¼ ì„ ë¬¼í•´ ë“œë¦´ê²Œìš”! ğŸ",
    "upload_photo": "ì „ì‹  ì‚¬ì§„ì„ ì—…ë¡œë“œí•˜ì„¸ìš”",
    "limit_reached": "ì˜¤ëŠ˜ ë¬´ë£Œ ì´ìš© íšŸìˆ˜(3íšŒ)ë¥¼ ëª¨ë‘ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤. ğŸ˜¢",
    "watch_ads_prompt": "ì‚¬ì´ë“œë°”ì—ì„œ 'ê´‘ê³  ë³´ê³  ë¬´ì œí•œ ì“°ê¸°'ë¥¼ ëˆŒëŸ¬ì£¼ì„¸ìš”!",
    "analyze_button": "âœ¨ íŒ¨ì…˜ ë¶„ì„ & ì½”ë”” ì¶”ì²œ ë°›ê¸°",
    "analyzing": "AIê°€ ë‹¹ì‹ ì˜ íŒ¨ì…˜ì„ ë¶„ì„ ì¤‘ì…ë‹ˆë‹¤... (ì•½ 5~10ì´ˆ)",
    "analysis_failed": "AI ì‘ë‹µ í•´ì„ ì‹¤íŒ¨",
    "analysis_error": "ë¶„ì„ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤",
    "analysis_result": "ğŸ“Š ë¶„ì„ ê²°ê³¼",
    "fashion_score": "íŒ¨ì…˜ ì ìˆ˜",
    "score_unit": "ì ",
    "summary": "ì´í‰",
    "improvements": "ê°œì„ ì ",
    "detected_items": "ê°ì§€ëœ ì•„ì´í…œ",
    "ai_recommendation": "ğŸ¨ AI ì¶”ì²œ ì½”ë””",
    "recommendation_reason": "ì ìˆ˜ê°€ 70ì  ë¯¸ë§Œ({score}ì )ì´ë¼ì„œ ê°œì„ ëœ ì½”ë””ë¥¼ ì œì•ˆí•©ë‹ˆë‹¤!",
    "pc_restriction": "ğŸ’» PCì—ì„œëŠ” ì´ë¯¸ì§€ ìƒì„±ì´ ì œí•œë©ë‹ˆë‹¤.",
    "mobile_prompt": "ğŸ“± **ëª¨ë°”ì¼**ë¡œ ì ‘ì†í•´ì„œ ê´‘ê³ ë¥¼ ë³´ì‹œë©´ ë¬´ë£Œë¡œ ë§Œë“¤ì–´ ë“œë¦½ë‹ˆë‹¤!",
    "sample_image": "ì˜ˆì‹œ ì´ë¯¸ì§€",
    "generating_image": "AIê°€ ìƒˆë¡œìš´ ì½”ë””ë¥¼ ì…í˜€ë³´ëŠ” ì¤‘ì…ë‹ˆë‹¤... (ì•½ 10~20ì´ˆ)",
    "image_gen_failed": "ì´ë¯¸ì§€ ìƒì„± ì‹¤íŒ¨",
    "model_not_supported": "í˜¹ì‹œ ëª¨ë¸ì´ ì•„ì§ ì§€ì›ë˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. Imagen 3ë¡œ ë‹¤ì‹œ ì‹œë„í•´ë³´ì„¸ìš”.",
    "uploaded_photo": "ì—…ë¡œë“œëœ ì‚¬ì§„",
    "ai_generated": "AIê°€ ì œì•ˆí•˜ëŠ” ê°œì„ ëœ ì½”ë””",
    "api_error": "API Keyê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. .streamlit/secrets.toml íŒŒì¼ì„ í™•ì¸í•´ì£¼ì„¸ìš”.",
    "situation_title": "ğŸ“ ì–´ë–¤ ìƒí™©ì¸ê°€ìš”?",
    "select_situation": "ìƒí™©ì„ ì„ íƒí•˜ì„¸ìš”",
    "situation_help": "ì„ íƒí•œ ìƒí™©ì— ë§ì¶° AIê°€ TPOë¥¼ ê³ ë ¤í•œ í‰ê°€ë¥¼ í•´ë“œë¦½ë‹ˆë‹¤",
    "image_optimized": "ğŸ“¸ ì´ë¯¸ì§€ í¬ê¸°ë¥¼ ìµœì í™”í–ˆìŠµë‹ˆë‹¤ ({width}x{height})",
    "evaluation_situation": "ğŸ“ í‰ê°€ ìƒí™©: **{situation}**",
    "tpo_suitability": "ìƒí™© ì í•©ë„",
    "tpo_tooltip": "TPO (Time, Place, Occasion): ì‹œê°„, ì¥ì†Œ, ìƒí™©ì— ë§ëŠ” ì˜·ì°¨ë¦¼ì¸ì§€ í‰ê°€í•©ë‹ˆë‹¤",
    "style_label": "ìŠ¤íƒ€ì¼",
    "tpo_question": "â“ TPO(ìƒí™©) ë¶„ì„ì´ë€?",
    "tpo_explanation": "**TPO (Time, Place, Occasion)**\n\n- â° **Time (ì‹œê°„)**: ì•„ì¹¨/ì ì‹¬/ì €ë…, ê³„ì ˆ ë“±\n- ğŸ“ **Place (ì¥ì†Œ)**: ì‹¤ë‚´/ì‹¤ì™¸, ê³µì‹/ë¹„ê³µì‹ ì¥ì†Œ\n- ğŸ¯ **Occasion (ìƒí™©)**: í–‰ì‚¬ì˜ ì„±ê²©ê³¼ ëª©ì \n\nì„ íƒí•˜ì‹  ìƒí™©ì— ë§ëŠ” ì˜·ì°¨ë¦¼ì¸ì§€ë¥¼ í‰ê°€í•©ë‹ˆë‹¤.",
    "situation_analysis": "ìƒí™© ë¶„ì„",
    "image_gen_tip": "ğŸ’¡ **íŒ:** ì´ë¯¸ì§€ ìƒì„±ì€ API í• ë‹¹ëŸ‰ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. í…ìŠ¤íŠ¸ë¡œë§Œ ê°œì„  ì œì•ˆì„ ë°›ìœ¼ì‹¤ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.",
    "generate_image_btn": "ğŸ¨ ì´ë¯¸ì§€ ìƒì„±í•˜ê¸°",
    "text_only_btn": "ğŸ“ í…ìŠ¤íŠ¸ë¡œë§Œ ë³´ê¸°",
    "text_improvement_title": "âœ… í…ìŠ¤íŠ¸ ê°œì„  ì œì•ˆ",
    "recommended_outfit": "ğŸ¯ ì¶”ì²œ ì½”ë””",
    "recommended_items": "ì¶”ì²œ ì•„ì´í…œ",
    "styling_intro": "ìœ„ì˜ ê°œì„ ì ì„ ë°”íƒ•ìœ¼ë¡œ ë‹¤ìŒê³¼ ê°™ì€ ìŠ¤íƒ€ì¼ë§ì„ ì¶”ì²œë“œë¦½ë‹ˆë‹¤:",
    "top_item": "ğŸ‘• **ìƒì˜**",
    "bottom_item": "ğŸ‘– **í•˜ì˜**: í•ì´ ì˜ ë§ëŠ” ìŠ¤íƒ€ì¼ ê¶Œì¥",
    "shoes_item": "ğŸ‘ **ì‹ ë°œ**: ìƒí™©ì— ë§ëŠ” ê²©ì‹ ìˆ˜ì¤€ ê³ ë ¤",
    "color_item": "ğŸ¨ **ì»¬ëŸ¬**: ì¡°í™”ë¡œìš´ ìƒ‰ìƒ ì¡°í•© ì¶”ì²œ",
    "quota_exceeded": "âš ï¸ **ì´ë¯¸ì§€ ìƒì„± í• ë‹¹ëŸ‰ ì´ˆê³¼**",
    "quota_message": "**ë¬´ë£Œ API í•œë„ë¥¼ ì´ˆê³¼í–ˆìŠµë‹ˆë‹¤.**\n\nì´ë¯¸ì§€ ìƒì„± ê¸°ëŠ¥ì€ Google AI APIì˜ ë¬´ë£Œ í• ë‹¹ëŸ‰ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.\n\n**ëŒ€ì•ˆ:**\n1. ğŸ“ ìœ„ì˜ \"í…ìŠ¤íŠ¸ë¡œë§Œ ë³´ê¸°\" ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ê°œì„  ì œì•ˆì„ í™•ì¸í•˜ì„¸ìš”\n2. â° ì ì‹œ í›„(ì•½ 1ë¶„)ì— ë‹¤ì‹œ ì‹œë„í•´ë³´ì„¸ìš”\n3. ğŸ’³ ìœ ë£Œ API í”Œëœìœ¼ë¡œ ì—…ê·¸ë ˆì´ë“œ ([Google AI Studio](https://ai.google.dev/))\n\n**ì°¸ê³ **: í• ë‹¹ëŸ‰ì€ ë§¤ì¼ ìì •(UTC)ì— ì´ˆê¸°í™”ë©ë‹ˆë‹¤.",
    "retry_info": "ğŸ’¡ API ìš”ì²­ì„ ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•˜ë©´ ì‘ë™í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
    "api_retry_warning": "âš ï¸ API ì˜¤ë¥˜ ë°œìƒ. ì¬ì‹œë„ ì¤‘... ({count}/{max})",
    "no_response": "API ì‘ë‹µì„ ë°›ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.",
}

english_text = {
    "page_title": "AI Fashion Stylist",
    "page_description": "Upload your photo. Get **honest critiques** and **perfect outfit recommendations**.",
    "settings": "âš™ï¸ Settings",
    "user_status": "My Status",
    "free_member": "ğŸŒ± Free Member",
    "premium_member": "ğŸ‘‘ Premium Member",
    "remaining_uses": "Free uses remaining today",
    "watch_ads": "ğŸ“º Watch 2 Ads for Unlimited",
    "watching_ad": "Playing Ad...",
    "upgrade_success": "Upgraded to Premium! ğŸ‰",
    "language_select": "ğŸŒ Language Selection",
    "result_language": "Result Language",
    "model_select": "ğŸ¤– Model Selection",
    "analysis_ai": "Analysis AI",
    "image_gen_ai": "Image Generation AI",
    "flash_cheap": "Flash 2.5 (Fast/Free)",
    "pro_expensive": "Pro 2.5 (Smart/Paid)",
    "flash_image": "Gemini 2.5 Flash Image (Value)",
    "nano_banana": "Nano Banana Pro (Best Quality)",
    "premium_only": "ğŸ”’ {model} is Premium only. (Auto-switched to Flash)",
    "why_ads": "â“ Why watch ads?",
    "ads_explanation": "**ğŸ’¡ Honest Notice**\n\nAI image generation costs $0.03~0.20 per image. ğŸ˜­\n\nTo keep this service free, we rely on ad revenue to cover server costs.\n\nPlease watch 2 short ads to get your amazing outfit! ğŸ",
    "upload_photo": "Upload full-body photo",
    "limit_reached": "Daily free limit (3 uses) reached. ğŸ˜¢",
    "watch_ads_prompt": "Click 'Watch 2 Ads for Unlimited' in the sidebar!",
    "analyze_button": "âœ¨ Analyze Fashion & Get Recommendations",
    "analyzing": "AI is analyzing your fashion... (5~10 seconds)",
    "analysis_failed": "Failed to parse AI response",
    "analysis_error": "An error occurred during analysis",
    "analysis_result": "ğŸ“Š Analysis Result",
    "fashion_score": "Fashion Score",
    "score_unit": "pts",
    "summary": "Summary",
    "improvements": "Improvements",
    "detected_items": "Detected Items",
    "ai_recommendation": "ğŸ¨ AI Outfit Recommendation",
    "recommendation_reason": "Score below 70 ({score}), suggesting improved outfit!",
    "pc_restriction": "ğŸ’» Image generation is restricted on PC.",
    "mobile_prompt": "ğŸ“± Access from **mobile** and watch ads for free generation!",
    "sample_image": "Sample Image",
    "generating_image": "AI is creating your new outfit... (10~20 seconds)",
    "image_gen_failed": "Image generation failed",
    "model_not_supported": "This model might not be fully supported yet. Try Imagen 3.",
    "uploaded_photo": "Uploaded Photo",
    "ai_generated": "AI Recommended Outfit",
    "api_error": "API Key not configured. Please check .streamlit/secrets.toml file.",
    "situation_title": "ğŸ“ What's the occasion?",
    "select_situation": "Select a situation",
    "situation_help": "AI will evaluate TPO appropriateness for your selected occasion",
    "image_optimized": "ğŸ“¸ Image optimized ({width}x{height})",
    "evaluation_situation": "ğŸ“ Evaluation Context: **{situation}**",
    "tpo_suitability": "TPO Suitability",
    "tpo_tooltip": "TPO (Time, Place, Occasion): Evaluates if the outfit matches the time, place, and occasion",
    "style_label": "Style",
    "tpo_question": "â“ What is TPO Analysis?",
    "tpo_explanation": "**TPO (Time, Place, Occasion)**\n\n- â° **Time**: Morning/afternoon/evening, season\n- ğŸ“ **Place**: Indoor/outdoor, formal/casual venue\n- ğŸ¯ **Occasion**: Nature and purpose of the event\n\nEvaluates if your outfit is appropriate for the selected occasion.",
    "situation_analysis": "Situation Analysis",
    "image_gen_tip": "ğŸ’¡ **Tip:** Image generation uses API quota. You can also get text-only recommendations.",
    "generate_image_btn": "ğŸ¨ Generate Image",
    "text_only_btn": "ğŸ“ Text Only",
    "text_improvement_title": "âœ… Text Recommendations",
    "recommended_outfit": "ğŸ¯ Recommended Outfit",
    "recommended_items": "Recommended Items",
    "styling_intro": "Based on the improvements above, here's our styling recommendation:",
    "top_item": "ğŸ‘• **Top**",
    "bottom_item": "ğŸ‘– **Bottom**: Well-fitted style recommended",
    "shoes_item": "ğŸ‘ **Shoes**: Consider formality level for the occasion",
    "color_item": "ğŸ¨ **Colors**: Harmonious color combinations recommended",
    "quota_exceeded": "âš ï¸ **Image Generation Quota Exceeded**",
    "quota_message": "**Free API limit exceeded.**\n\nImage generation uses Google AI API's free quota.\n\n**Alternatives:**\n1. ğŸ“ Click \"Text Only\" button above for recommendations\n2. â° Try again in a moment (~1 minute)\n3. ğŸ’³ Upgrade to paid API plan ([Google AI Studio](https://ai.google.dev/))\n\n**Note**: Quota resets daily at midnight (UTC).",
    "retry_info": "ğŸ’¡ Retrying the API request in a moment may work.",
    "api_retry_warning": "âš ï¸ API error occurred. Retrying... ({count}/{max})",
    "no_response": "No API response received. Please try again.",
}

japanese_text = {
    "page_title": "AIãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³ã‚¹ã‚¿ã‚¤ãƒªã‚¹ãƒˆ",
    "page_description": "å†™çœŸã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„ã€‚**æ­£ç›´ãªè©•ä¾¡**ã¨**å®Œç’§ãªã‚³ãƒ¼ãƒ‡ã‚£ãƒãƒ¼ãƒˆææ¡ˆ**ã‚’å—ã‘å–ã‚Œã¾ã™ã€‚",
    "settings": "âš™ï¸ è¨­å®š",
    "user_status": "ç§ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹",
    "free_member": "ğŸŒ± ç„¡æ–™ä¼šå“¡",
    "premium_member": "ğŸ‘‘ ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ä¼šå“¡",
    "remaining_uses": "ä»Šæ—¥ã®æ®‹ã‚Šç„¡æ–™å›æ•°",
    "watch_ads": "ğŸ“º åºƒå‘Šã‚’2ã¤è¦‹ã¦ç„¡åˆ¶é™",
    "watching_ad": "åºƒå‘Šã‚’å†ç”Ÿä¸­...",
    "upgrade_success": "ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã—ã¾ã—ãŸï¼ ğŸ‰",
    "language_select": "ğŸŒ è¨€èªé¸æŠ",
    "result_language": "çµæœã®è¨€èª",
    "model_select": "ğŸ¤– ãƒ¢ãƒ‡ãƒ«é¸æŠ",
    "analysis_ai": "åˆ†æAI",
    "image_gen_ai": "ç”»åƒç”ŸæˆAI",
    "flash_cheap": "Flash 2.5 (é«˜é€Ÿ/ç„¡æ–™)",
    "pro_expensive": "Pro 2.5 (é«˜æ€§èƒ½/æœ‰æ–™)",
    "flash_image": "Gemini 2.5 Flash Image (é«˜ã‚³ã‚¹ãƒ‘)",
    "nano_banana": "Nano Banana Pro (æœ€é«˜ç”»è³ª)",
    "premium_only": "ğŸ”’ {model} ã¯ãƒ—ãƒ¬ãƒŸã‚¢ãƒ é™å®šã§ã™ã€‚(Flashã«è‡ªå‹•åˆ‡ã‚Šæ›¿ãˆ)",
    "why_ads": "â“ ãªãœåºƒå‘Šã‚’è¦‹ã‚‹ã®ã§ã™ã‹ï¼Ÿ",
    "ads_explanation": "**ğŸ’¡ æ­£ç›´ãªã”æ¡ˆå†…**\n\nAIç”»åƒç”Ÿæˆã«ã¯1æšã‚ãŸã‚Š$0.03~0.20ã®ã‚³ã‚¹ãƒˆãŒã‹ã‹ã‚Šã¾ã™ã€‚ğŸ˜­\n\nã“ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’ç„¡æ–™ã§æä¾›ã—ç¶šã‘ã‚‹ãŸã‚ã€ã‚µãƒ¼ãƒãƒ¼è²»ç”¨ã‚’åºƒå‘Šåå…¥ã§è³„ã£ã¦ã„ã¾ã™ã€‚\n\nç´ æ•µãªã‚³ãƒ¼ãƒ‡ã‚£ãƒãƒ¼ãƒˆã‚’æ‰‹ã«å…¥ã‚Œã‚‹ãŸã‚ã«ã€çŸ­ã„åºƒå‘Šã‚’2ã¤ã ã‘è¦‹ã¦ãã ã•ã„ï¼ ğŸ",
    "upload_photo": "å…¨èº«å†™çœŸã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰",
    "limit_reached": "1æ—¥ã®ç„¡æ–™åˆ¶é™ï¼ˆ3å›ï¼‰ã«é”ã—ã¾ã—ãŸã€‚ ğŸ˜¢",
    "watch_ads_prompt": "ã‚µã‚¤ãƒ‰ãƒãƒ¼ã®ã€Œåºƒå‘Šã‚’2ã¤è¦‹ã¦ç„¡åˆ¶é™ã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼",
    "analyze_button": "âœ¨ ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³åˆ†æï¼†ã‚³ãƒ¼ãƒ‡ææ¡ˆ",
    "analyzing": "AIãŒãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³ã‚’åˆ†æä¸­... (5~10ç§’)",
    "analysis_failed": "AIå¿œç­”ã®è§£æã«å¤±æ•—ã—ã¾ã—ãŸ",
    "analysis_error": "åˆ†æä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ",
    "analysis_result": "ğŸ“Š åˆ†æçµæœ",
    "fashion_score": "ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³ã‚¹ã‚³ã‚¢",
    "score_unit": "ç‚¹",
    "summary": "ç·è©•",
    "improvements": "æ”¹å–„ç‚¹",
    "detected_items": "æ¤œå‡ºã•ã‚ŒãŸã‚¢ã‚¤ãƒ†ãƒ ",
    "ai_recommendation": "ğŸ¨ AIãŠã™ã™ã‚ã‚³ãƒ¼ãƒ‡",
    "recommendation_reason": "ã‚¹ã‚³ã‚¢ãŒ70ç‚¹æœªæº€({score})ã®ãŸã‚ã€æ”¹å–„ã‚³ãƒ¼ãƒ‡ã‚’ææ¡ˆã—ã¾ã™ï¼",
    "pc_restriction": "ğŸ’» PCã§ã¯ç”»åƒç”ŸæˆãŒåˆ¶é™ã•ã‚Œã¦ã„ã¾ã™ã€‚",
    "mobile_prompt": "ğŸ“± **ã‚¹ãƒãƒ›**ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦åºƒå‘Šã‚’è¦‹ã‚‹ã¨ç„¡æ–™ã§ç”Ÿæˆã§ãã¾ã™ï¼",
    "sample_image": "ã‚µãƒ³ãƒ—ãƒ«ç”»åƒ",
    "generating_image": "AIãŒæ–°ã—ã„ã‚³ãƒ¼ãƒ‡ã‚’ä½œæˆä¸­... (10~20ç§’)",
    "image_gen_failed": "ç”»åƒç”Ÿæˆã«å¤±æ•—ã—ã¾ã—ãŸ",
    "model_not_supported": "ã“ã®ãƒ¢ãƒ‡ãƒ«ã¯ã¾ã å®Œå…¨ã«å¯¾å¿œã—ã¦ã„ãªã„å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚Imagen 3ã‚’ãŠè©¦ã—ãã ã•ã„ã€‚",
    "uploaded_photo": "ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã•ã‚ŒãŸå†™çœŸ",
    "ai_generated": "AIæ¨å¥¨ã‚³ãƒ¼ãƒ‡",
    "api_error": "APIã‚­ãƒ¼ãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚.streamlit/secrets.tomlãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚",
    "situation_title": "ğŸ“ ã©ã®ã‚ˆã†ãªã‚·ãƒãƒ¥ã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã‹ï¼Ÿ",
    "select_situation": "ã‚·ãƒãƒ¥ã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é¸æŠ",
    "situation_help": "é¸æŠã—ãŸã‚·ãƒãƒ¥ã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ã«åˆã‚ã›ã¦AIãŒTPOã‚’è©•ä¾¡ã—ã¾ã™",
    "image_optimized": "ğŸ“¸ ç”»åƒã‚’æœ€é©åŒ–ã—ã¾ã—ãŸ ({width}x{height})",
    "evaluation_situation": "ğŸ“ è©•ä¾¡ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ: **{situation}**",
    "tpo_suitability": "TPOé©åˆåº¦",
    "tpo_tooltip": "TPO (Time, Place, Occasion): æ™‚é–“ã€å ´æ‰€ã€å ´é¢ã«åˆã£ã¦ã„ã‚‹ã‹è©•ä¾¡ã—ã¾ã™",
    "style_label": "ã‚¹ã‚¿ã‚¤ãƒ«",
    "tpo_question": "â“ TPOåˆ†æã¨ã¯ï¼Ÿ",
    "tpo_explanation": "**TPO (Time, Place, Occasion)**\n\n- â° **Time (æ™‚é–“)**: æœ/æ˜¼/å¤œã€å­£ç¯€\n- ğŸ“ **Place (å ´æ‰€)**: å±‹å†…/å±‹å¤–ã€ãƒ•ã‚©ãƒ¼ãƒãƒ«/ã‚«ã‚¸ãƒ¥ã‚¢ãƒ«ãªå ´æ‰€\n- ğŸ¯ **Occasion (å ´é¢)**: ã‚¤ãƒ™ãƒ³ãƒˆã®æ€§è³ªã¨ç›®çš„\n\né¸æŠã—ãŸã‚·ãƒãƒ¥ã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ã«æœè£…ãŒé©ã—ã¦ã„ã‚‹ã‹è©•ä¾¡ã—ã¾ã™ã€‚",
    "situation_analysis": "ã‚·ãƒãƒ¥ã‚¨ãƒ¼ã‚·ãƒ§ãƒ³åˆ†æ",
    "image_gen_tip": "ğŸ’¡ **ãƒ’ãƒ³ãƒˆ:** ç”»åƒç”Ÿæˆã¯APIå‰²ã‚Šå½“ã¦ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ãƒ†ã‚­ã‚¹ãƒˆã®ã¿ã®ææ¡ˆã‚‚å¯èƒ½ã§ã™ã€‚",
    "generate_image_btn": "ğŸ¨ ç”»åƒã‚’ç”Ÿæˆ",
    "text_only_btn": "ğŸ“ ãƒ†ã‚­ã‚¹ãƒˆã®ã¿",
    "text_improvement_title": "âœ… ãƒ†ã‚­ã‚¹ãƒˆææ¡ˆ",
    "recommended_outfit": "ğŸ¯ ãŠã™ã™ã‚ã‚³ãƒ¼ãƒ‡",
    "recommended_items": "ãŠã™ã™ã‚ã‚¢ã‚¤ãƒ†ãƒ ",
    "styling_intro": "ä¸Šè¨˜ã®æ”¹å–„ç‚¹ã«åŸºã¥ãã€ä»¥ä¸‹ã®ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ã‚’æ¨å¥¨ã—ã¾ã™:",
    "top_item": "ğŸ‘• **ãƒˆãƒƒãƒ—ã‚¹**",
    "bottom_item": "ğŸ‘– **ãƒœãƒˆãƒ ã‚¹**: ãƒ•ã‚£ãƒƒãƒˆæ„Ÿã®è‰¯ã„ã‚¹ã‚¿ã‚¤ãƒ«ã‚’æ¨å¥¨",
    "shoes_item": "ğŸ‘ **ã‚·ãƒ¥ãƒ¼ã‚º**: å ´é¢ã«åˆã‚ã›ãŸãƒ•ã‚©ãƒ¼ãƒãƒ«åº¦ã‚’è€ƒæ…®",
    "color_item": "ğŸ¨ **ã‚«ãƒ©ãƒ¼**: èª¿å’Œã®ã¨ã‚ŒãŸè‰²ã®çµ„ã¿åˆã‚ã›ã‚’æ¨å¥¨",
    "quota_exceeded": "âš ï¸ **ç”»åƒç”Ÿæˆå‰²ã‚Šå½“ã¦è¶…é**",
    "quota_message": "**ç„¡æ–™APIåˆ¶é™ã‚’è¶…ãˆã¾ã—ãŸã€‚**\n\nç”»åƒç”Ÿæˆã¯Google AI APIã®ç„¡æ–™æ ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚\n\n**ä»£æ›¿æ¡ˆ:**\n1. ğŸ“ ä¸Šè¨˜ã®ã€Œãƒ†ã‚­ã‚¹ãƒˆã®ã¿ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ææ¡ˆã‚’ç¢ºèª\n2. â° ã—ã°ã‚‰ãå¾…ã£ã¦ã‹ã‚‰å†è©¦è¡Œ (~1åˆ†)\n3. ğŸ’³ æœ‰æ–™APIãƒ—ãƒ©ãƒ³ã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ ([Google AI Studio](https://ai.google.dev/))\n\n**æ³¨**: å‰²ã‚Šå½“ã¦ã¯æ¯æ—¥æ·±å¤œ(UTC)ã«ãƒªã‚»ãƒƒãƒˆã•ã‚Œã¾ã™ã€‚",
    "retry_info": "ğŸ’¡ ã—ã°ã‚‰ãã—ã¦ã‹ã‚‰APIãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å†è©¦è¡Œã™ã‚‹ã¨ã†ã¾ãã„ãå ´åˆãŒã‚ã‚Šã¾ã™ã€‚",
    "api_retry_warning": "âš ï¸ APIã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚å†è©¦è¡Œä¸­... ({count}/{max})",
    "no_response": "APIå¿œç­”ãŒã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚",
}

chinese_text = {
    "page_title": "AI æ—¶å°šé€ å‹å¸ˆ",
    "page_description": "ä¸Šä¼ æ‚¨çš„ç…§ç‰‡ã€‚è·å–**è¯šå®çš„è¯„ä»·**å’Œ**å®Œç¾çš„ç©¿æ­å»ºè®®**ã€‚",
    "settings": "âš™ï¸ è®¾ç½®",
    "user_status": "æˆ‘çš„çŠ¶æ€",
    "free_member": "ğŸŒ± å…è´¹ä¼šå‘˜",
    "premium_member": "ğŸ‘‘ é«˜çº§ä¼šå‘˜",
    "remaining_uses": "ä»Šæ—¥å‰©ä½™å…è´¹æ¬¡æ•°",
    "watch_ads": "ğŸ“º è§‚çœ‹2ä¸ªå¹¿å‘Šæ— é™ä½¿ç”¨",
    "watching_ad": "æ­£åœ¨æ’­æ”¾å¹¿å‘Š...",
    "upgrade_success": "å·²å‡çº§ä¸ºé«˜çº§ä¼šå‘˜ï¼ ğŸ‰",
    "language_select": "ğŸŒ è¯­è¨€é€‰æ‹©",
    "result_language": "ç»“æœè¯­è¨€",
    "model_select": "ğŸ¤– æ¨¡å‹é€‰æ‹©",
    "analysis_ai": "åˆ†æ AI",
    "image_gen_ai": "å›¾åƒç”Ÿæˆ AI",
    "flash_cheap": "Flash 2.5 (å¿«é€Ÿ/å…è´¹)",
    "pro_expensive": "Pro 2.5 (æ™ºèƒ½/ä»˜è´¹)",
    "flash_image": "Gemini 2.5 Flash Image (è¶…å€¼)",
    "nano_banana": "Nano Banana Pro (æœ€ä½³ç”»è´¨)",
    "premium_only": "ğŸ”’ {model} ä»…é™é«˜çº§ä¼šå‘˜ã€‚(è‡ªåŠ¨åˆ‡æ¢è‡³ Flash)",
    "why_ads": "â“ ä¸ºä»€ä¹ˆè¦çœ‹å¹¿å‘Šï¼Ÿ",
    "ads_explanation": "**ğŸ’¡ è¯šå®è¯´æ˜**\n\nAI ç”Ÿæˆå›¾åƒæ¯å¼ æˆæœ¬çº¦ $0.03~0.20ã€‚ğŸ˜­\n\nä¸ºäº†ä¿æŒæ­¤æœåŠ¡å…è´¹ï¼Œæˆ‘ä»¬éœ€è¦ä¾é å¹¿å‘Šæ”¶å…¥æ¥æ”¯ä»˜æœåŠ¡å™¨è´¹ç”¨ã€‚\n\nè¯·è§‚çœ‹2ä¸ªçŸ­å¹¿å‘Šä»¥è·å–æ‚¨çš„ç²¾å½©ç©¿æ­ï¼ ğŸ",
    "upload_photo": "ä¸Šä¼ å…¨èº«ç…§",
    "limit_reached": "å·²è¾¾åˆ°æ¯æ—¥å…è´¹é™é¢ï¼ˆ3æ¬¡ï¼‰ã€‚ ğŸ˜¢",
    "watch_ads_prompt": "ç‚¹å‡»ä¾§è¾¹æ çš„â€œè§‚çœ‹2ä¸ªå¹¿å‘Šæ— é™ä½¿ç”¨â€ï¼",
    "analyze_button": "âœ¨ åˆ†ææ—¶å°šå¹¶è·å–å»ºè®®",
    "analyzing": "AI æ­£åœ¨åˆ†ææ‚¨çš„æ—¶å°š... (5~10ç§’)",
    "analysis_failed": "è§£æ AI å“åº”å¤±è´¥",
    "analysis_error": "åˆ†æè¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯",
    "analysis_result": "ğŸ“Š åˆ†æç»“æœ",
    "fashion_score": "æ—¶å°šè¯„åˆ†",
    "score_unit": "åˆ†",
    "summary": "æ€»ç»“",
    "improvements": "æ”¹è¿›ç‚¹",
    "detected_items": "æ£€æµ‹åˆ°çš„å•å“",
    "ai_recommendation": "ğŸ¨ AI æ¨èç©¿æ­",
    "recommendation_reason": "è¯„åˆ†ä½äº 70 ({score})ï¼Œå»ºè®®æ”¹è¿›ç©¿æ­ï¼",
    "pc_restriction": "ğŸ’» ç”µè„‘ç«¯é™åˆ¶å›¾åƒç”Ÿæˆã€‚",
    "mobile_prompt": "ğŸ“± è¯·ä½¿ç”¨**æ‰‹æœº**è®¿é—®å¹¶è§‚çœ‹å¹¿å‘Šä»¥å…è´¹ç”Ÿæˆï¼",
    "sample_image": "ç¤ºä¾‹å›¾ç‰‡",
    "generating_image": "AI æ­£åœ¨ä¸ºæ‚¨è®¾è®¡æ–°ç©¿æ­... (10~20ç§’)",
    "image_gen_failed": "å›¾åƒç”Ÿæˆå¤±è´¥",
    "model_not_supported": "æ­¤æ¨¡å‹å¯èƒ½å°šæœªå®Œå…¨æ”¯æŒã€‚è¯·å°è¯• Imagen 3ã€‚",
    "uploaded_photo": "å·²ä¸Šä¼ ç…§ç‰‡",
    "ai_generated": "AI æ¨èç©¿æ­",
    "api_error": "æœªé…ç½® API å¯†é’¥ã€‚è¯·æ£€æŸ¥ .streamlit/secrets.toml æ–‡ä»¶ã€‚",
    "situation_title": "ğŸ“ æ˜¯ä»€ä¹ˆåœºåˆï¼Ÿ",
    "select_situation": "é€‰æ‹©åœºåˆ",
    "situation_help": "AI å°†è¯„ä¼°æ‚¨é€‰æ‹©åœºåˆçš„ TPO é€‚ç”¨æ€§",
    "image_optimized": "ğŸ“¸ å›¾åƒå·²ä¼˜åŒ– ({width}x{height})",
    "evaluation_situation": "ğŸ“ è¯„ä¼°è¯­å¢ƒ: **{situation}**",
    "tpo_suitability": "TPO é€‚ç”¨æ€§",
    "tpo_tooltip": "TPO (æ—¶é—´, åœ°ç‚¹, åœºåˆ): è¯„ä¼°ç©¿æ­æ˜¯å¦ç¬¦åˆæ—¶é—´ã€åœ°ç‚¹å’Œåœºåˆ",
    "style_label": "é£æ ¼",
    "tpo_question": "â“ ä»€ä¹ˆæ˜¯ TPO åˆ†æï¼Ÿ",
    "tpo_explanation": "**TPO (æ—¶é—´, åœ°ç‚¹, åœºåˆ)**\n\n- â° **æ—¶é—´**: æ—©/ä¸­/æ™šï¼Œå­£èŠ‚\n- ğŸ“ **åœ°ç‚¹**: å®¤å†…/å®¤å¤–ï¼Œæ­£å¼/éæ­£å¼åœºæ‰€\n- ğŸ¯ **åœºåˆ**: æ´»åŠ¨çš„æ€§è´¨å’Œç›®çš„\n\nè¯„ä¼°æ‚¨çš„ç©¿æ­æ˜¯å¦é€‚åˆæ‰€é€‰åœºåˆã€‚",
    "situation_analysis": "åœºåˆåˆ†æ",
    "image_gen_tip": "ğŸ’¡ **æç¤º:** å›¾åƒç”Ÿæˆä½¿ç”¨ API é…é¢ã€‚æ‚¨ä¹Ÿå¯ä»¥ä»…è·å–æ–‡æœ¬å»ºè®®ã€‚",
    "generate_image_btn": "ğŸ¨ ç”Ÿæˆå›¾åƒ",
    "text_only_btn": "ğŸ“ ä»…æ–‡æœ¬",
    "text_improvement_title": "âœ… æ–‡æœ¬å»ºè®®",
    "recommended_outfit": "ğŸ¯ æ¨èç©¿æ­",
    "recommended_items": "æ¨èå•å“",
    "styling_intro": "åŸºäºä»¥ä¸Šæ”¹è¿›ç‚¹ï¼Œè¿™æ˜¯æˆ‘ä»¬çš„é€ å‹å»ºè®®ï¼š",
    "top_item": "ğŸ‘• **ä¸Šè£…**",
    "bottom_item": "ğŸ‘– **ä¸‹è£…**: å»ºè®®åˆèº«çš„æ¬¾å¼",
    "shoes_item": "ğŸ‘ **é‹å±¥**: è€ƒè™‘åœºåˆçš„æ­£å¼ç¨‹åº¦",
    "color_item": "ğŸ¨ **é¢œè‰²**: å»ºè®®å’Œè°çš„é…è‰²ç»„åˆ",
    "quota_exceeded": "âš ï¸ **å›¾åƒç”Ÿæˆé…é¢å·²è¶…**",
    "quota_message": "**å·²è¶…è¿‡å…è´¹ API é™é¢ã€‚**\n\nå›¾åƒç”Ÿæˆä½¿ç”¨ Google AI API çš„å…è´¹é…é¢ã€‚\n\n**æ›¿ä»£æ–¹æ¡ˆ:**\n1. ğŸ“ ç‚¹å‡»ä¸Šæ–¹çš„â€œä»…æ–‡æœ¬â€æŒ‰é’®è·å–å»ºè®®\n2. â° ç¨åå†è¯• (~1åˆ†é’Ÿ)\n3. ğŸ’³ å‡çº§åˆ°ä»˜è´¹ API è®¡åˆ’ ([Google AI Studio](https://ai.google.dev/))\n\n**æ³¨æ„**: é…é¢åœ¨æ¯å¤©åˆå¤œ (UTC) é‡ç½®ã€‚",
    "retry_info": "ğŸ’¡ ç¨åé‡è¯• API è¯·æ±‚å¯èƒ½ä¼šæˆåŠŸã€‚",
    "api_retry_warning": "âš ï¸ å‘ç”Ÿ API é”™è¯¯ã€‚æ­£åœ¨é‡è¯•... ({count}/{max})",
    "no_response": "æœªæ”¶åˆ° API å“åº”ã€‚è¯·é‡è¯•ã€‚",
}

# Read the corrupted file
with open("d:/_Works Web/251126_CodiScore/ui_translations.py", "r", encoding="utf-8") as f:
    corrupted_content = f.read()

# Construct the new content
header = '"""\nUI Translations for Fashion Analysis App\nComplete localization for 12 languages\n"""\n\nUI_TEXT = {\n'
header += f'    "í•œêµ­ì–´": {json.dumps(korean_text, ensure_ascii=False, indent=4)},\n'
header += f'    "English": {json.dumps(english_text, ensure_ascii=False, indent=4)},\n'
header += f'    "æ—¥æœ¬èª": {json.dumps(japanese_text, ensure_ascii=False, indent=4)},\n'
header += f'    "ä¸­æ–‡": {json.dumps(chinese_text, ensure_ascii=False, indent=4)},\n'

# corrupted_content starts with 'UI_TEXT["EspaÃ±ol"] = ...'
# We need to append it.
# But we need to make sure we don't have syntax errors.
# The corrupted content is valid python code (assignments), just missing the UI_TEXT definition.
# So we can just append it.

# But wait, the corrupted content starts with lines 1-22 being shown in view_file.
# Line 3 is `UI_TEXT["EspaÃ±ol"] = ...`.
# Lines 1-2 were empty or docstring?
# In Step 210, line 1 was `"""`. Line 2 was empty. Line 3 was `UI_TEXT["EspaÃ±ol"]`.
# So I should skip lines 1-2 of corrupted content if they are garbage.
# Or just read from line 3.

lines = corrupted_content.splitlines()
start_index = 0
for i, line in enumerate(lines):
    if line.strip().startswith('UI_TEXT["EspaÃ±ol"]'):
        start_index = i
        break

rest_of_content = "\n".join(lines[start_index:])

# Close the dictionary definition from header?
# No, UI_TEXT = { ... } defines the first 4 languages.
# Then `UI_TEXT["EspaÃ±ol"] = ...` adds to it.
# So I need to close the brace `}` before appending the rest.
header += "}\n\n"

full_content = header + rest_of_content

with open("d:/_Works Web/251126_CodiScore/ui_translations.py", "w", encoding="utf-8") as f:
    f.write(full_content)

print("Successfully restored ui_translations.py")
